//
//  TSAlarmClockModel.h
//  TopStepInterfaceKit
//
//  Created by 磐石 on 2025/2/12.
//

#import "TSKitBaseModel.h"

NS_ASSUME_NONNULL_BEGIN

/**
 * @brief Alarm repeat options
 * @chinese 闹钟重复选项
 *
 * @discussion
 * [EN]: Use bitmask to represent alarm repeat dates, can be combined.
 * Example: TSAlarmRepeatMonday | TSAlarmRepeatWednesday means repeat on Monday and Wednesday.
 *
 * [CN]: 使用位掩码表示闹钟重复的日期，可以组合使用。
 * 示例：TSAlarmRepeatMonday | TSAlarmRepeatWednesday 表示周一和周三重复。
 */
typedef NS_OPTIONS(uint8_t, TSAlarmRepeat) {
    TSAlarmRepeatNone      = 0,           ///< [中文]: 不重复       [EN]: No repeat
    TSAlarmRepeatMonday    = 1 << 0,      ///< [中文]: 周一重复     [EN]: Repeat on Monday
    TSAlarmRepeatTuesday   = 1 << 1,      ///< [中文]: 周二重复     [EN]: Repeat on Tuesday
    TSAlarmRepeatWednesday = 1 << 2,      ///< [中文]: 周三重复     [EN]: Repeat on Wednesday
    TSAlarmRepeatThursday  = 1 << 3,      ///< [中文]: 周四重复     [EN]: Repeat on Thursday
    TSAlarmRepeatFriday    = 1 << 4,      ///< [中文]: 周五重复     [EN]: Repeat on Friday
    TSAlarmRepeatSaturday  = 1 << 5,      ///< [中文]: 周六重复     [EN]: Repeat on Saturday
    TSAlarmRepeatSunday    = 1 << 6,      ///< [中文]: 周日重复     [EN]: Repeat on Sunday
    
    ///< [中文]: 工作日重复   [EN]: Repeat on workdays
    TSAlarmRepeatWorkday   = TSAlarmRepeatMonday |
                             TSAlarmRepeatTuesday |
                             TSAlarmRepeatWednesday |
                             TSAlarmRepeatThursday |
                             TSAlarmRepeatFriday,
    ///< [中文]: 周末重复     [EN]: Repeat on weekends
    TSAlarmRepeatWeekend   = TSAlarmRepeatSaturday | TSAlarmRepeatSunday,
    ///< [中文]: 每天重复     [EN]: Repeat everyday
    TSAlarmRepeatEveryday  = TSAlarmRepeatWorkday | TSAlarmRepeatWeekend
};

/**
 * @brief Alarm clock model class
 * @chinese 闹钟模型类
 *
 * @discussion
 * [EN]: This class represents alarm clock information on the device, including:
 * - Basic alarm information (ID, time, etc.)
 * - Alarm repeat settings
 * - Alarm enable status
 * - Other alarm properties (label, remark, etc.)
 *
 * [CN]: 该类用于表示设备闹钟的信息，包括：
 * - 闹钟的基本信息（ID、时间等）
 * - 闹钟的重复设置
 * - 闹钟的开关状态
 * - 闹钟的其他属性（标签、备注等）
 */
@interface TSAlarmClockModel : TSKitBaseModel

/**
 * @brief Device-side alarm ID
 * @chinese 闹钟ID（设备端）
 *
 * @discussion
 * [EN]: Unique identifier assigned by device.
 * Valid range: 0-255.
 *
 * [CN]: 设备端分配的闹钟唯一标识符。
 * 有效范围：0-255。
 */
@property (nonatomic, assign) UInt8 alarmId;

/**
 * @brief App-side alarm identifier
 * @chinese 闹钟标识符（APP端）
 *
 * @discussion
 * [EN]: Unique identifier generated by APP for tracking alarms.
 * Used to identify and manage alarms within the app.
 *
 * [CN]: APP端生成的闹钟唯一标识符。
 * 用于在APP内识别和管理闹钟。
 */
@property (nonatomic, copy, nullable) NSString *identifier;

/**
 * @brief Alarm label
 * @chinese 闹钟标签
 *
 * @discussion
 * [EN]: Display name of the alarm.
 * Examples: "Wake up", "Take medicine", etc.
 * Maximum length: 32 bytes.
 *
 * [CN]: 闹钟的显示名称。
 * 示例："起床"、"吃药"等。
 * 最大长度：32字节。
 */
@property (nonatomic, copy, nullable) NSString *label;

/**
 * @brief Alarm time
 * @chinese 闹钟时间
 *
 * @discussion
 * [EN]: Alarm time settings.
 * - Hour: 0-23 (24-hour format)
 * - Minute: 0-59
 *
 * [CN]: 闹钟的时间设置。
 * - 小时：0-23（24小时制）
 * - 分钟：0-59
 */
@property (nonatomic, strong) NSDateComponents *time;

/**
 * @brief Alarm enable status
 * @chinese 闹钟开关状态
 *
 * @discussion
 * [EN]: Controls whether the alarm is active.
 * - YES: Alarm is enabled and will trigger
 * - NO: Alarm is disabled and won't trigger
 *
 * [CN]: 控制闹钟是否激活。
 * - YES：闹钟已启用，到时会触发
 * - NO：闹钟已禁用，不会触发
 */
@property (nonatomic, assign, getter = isEnabled) BOOL isOn;

/**
 * @brief Support for remind later feature
 * @chinese 是否支持稍后提醒
 *
 * @discussion
 * [EN]: Indicates whether the alarm supports snooze function.
 * - YES: Snooze function is available
 * - NO: Snooze function is not available
 *
 * [CN]: 指示闹钟是否支持贪睡功能。
 * - YES：支持贪睡功能
 * - NO：不支持贪睡功能
 */
@property (nonatomic, assign) BOOL supportRemindLater;

/**
 * @brief Alarm remark
 * @chinese 闹钟备注
 *
 * @discussion
 * [EN]: Additional description for the alarm.
 * Used for storing extra information about the alarm.
 * Maximum length: Get from supportMaxAlarmRemarkLength method.
 * Note: One Chinese character typically takes 3 bytes in UTF-8 encoding.
 *
 * [CN]: 闹钟的附加说明信息。
 * 用于存储关于闹钟的额外信息。
 * 最大长度限制：通过supportMaxAlarmRemarkLength方法获取。
 * 注意：一个中文字符通常在UTF-8编码中占用3字节。
 */
@property (nonatomic, copy, nullable) NSString *remark;

/**
 * @brief Alarm repeat options
 * @chinese 闹钟重复选项
 *
 * @discussion
 * [EN]: Specifies which days the alarm should repeat.
 * Uses TSAlarmRepeat bitmask to represent repeat days.
 * Example: TSAlarmRepeatMonday | TSAlarmRepeatFriday for Monday and Friday.
 *
 * [CN]: 指定闹钟应该在哪些日期重复。
 * 使用TSAlarmRepeat位掩码表示重复日期。
 * 示例：TSAlarmRepeatMonday | TSAlarmRepeatFriday 表示周一和周五重复。
 */
@property (nonatomic, assign) TSAlarmRepeat repeatOptions;

/**
 * @brief Get alarm hour
 * @chinese 获取闹钟小时值
 *
 * @return
 * EN: Hour value in 24-hour format (0-23)
 * CN: 24小时制的小时值（0-23）
 */
- (NSInteger)hour;

/**
 * @brief Get alarm minute
 * @chinese 获取闹钟分钟值
 *
 * @return
 * EN: Minute value (0-59)
 * CN: 分钟值（0-59）
 */
- (NSInteger)minute;

/**
 * @brief Set alarm time
 * @chinese 设置闹钟时间
 *
 * @param hour
 * EN: Hour value in 24-hour format (0-23)
 * CN: 24小时制的小时值（0-23）
 *
 * @param minute
 * EN: Minute value (0-59)
 * CN: 分钟值（0-59）
 *
 * @discussion
 * [EN]: Invalid time values will be automatically adjusted to valid range:
 * - Hour: Clamped to 0-23
 * - Minute: Clamped to 0-59
 *
 * [CN]: 无效的时间值会被自动调整到有效范围：
 * - 小时：限制在0-23之间
 * - 分钟：限制在0-59之间
 */
- (void)setHour:(NSInteger)hour minute:(NSInteger)minute;

@end

NS_ASSUME_NONNULL_END
